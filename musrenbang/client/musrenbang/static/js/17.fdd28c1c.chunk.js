(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{347:function(a,e,t){"use strict";t.r(e);var n=t(94),l=t(95),i=t(97),s=t(96),o=t(98),r=t(100),c=t(1),d=t.n(c),m=t(158),u=t(314),h=t(159),g=t(337),p=t(266),k=t(267),v=t(268),b=t(271),E=t(14),f=t(157),P=t(338),S=t(339),C=t(42),j=t(13),K=t(269),y=t(12),_=t(29),O=t(26),T=t(27),D=t(340),I=t(28),x=t(331),A=t(328),w=t(329),N=t(330),F=t(41),U=t(261),B=t.n(U),R=t(260),M=function(a){function e(a){var t;return Object(n.a)(this,e),(t=Object(i.a)(this,Object(s.a)(e).call(this,a))).downloadGambar=function(a){var e="kecamatan";return 1==parseInt(a.asal)&&(e="kelurahan"),d.a.createElement(m.a,{method:"post",action:R.apiRoot+"attachments/foto-"+e+"/"+a.file,target:"_blank"},d.a.createElement(u.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),d.a.createElement(h.a,{color:"success"},d.a.createElement("i",{className:"fa fa-file-photo-o"}," Foto")))},t.downloadFileUsulan=function(a){if(""!=a.berkas_usulan){var e="kecamatan";return 1==parseInt(a.asal)&&(e="kelurahan"),d.a.createElement(m.a,{method:"post",action:R.apiRoot+"attachments/usulan-"+e+"/"+a.berkas_usulan,target:"_blank"},d.a.createElement(u.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),d.a.createElement(h.a,{color:"info"},d.a.createElement("i",{className:"fa fa-file-pdf-o"}," Usulan")))}},t.downloadFileBA=function(a){if(""!=a.berkas_ba){var e="kecamatan";return 1==parseInt(a.asal)&&(e="kelurahan"),d.a.createElement(m.a,{method:"post",action:R.apiRoot+"attachments/berita-acara-"+e+"/"+a.berkas_ba,target:"_blank"},d.a.createElement(u.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),d.a.createElement(h.a,{color:"primary"},d.a.createElement("i",{className:"fa fa-file-pdf-o"}," Berita Acara")))}},t.handleDelete=function(){var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("token",localStorage.getItem("codexv-token-kecamatan")),a.append("id",t.state.dataPilih.id),B.a.post(R.apiRoot+"kecamatan/delete",a).then(function(a){a.data.status&&(t.toggleDelete(),t.getData()),t.changePesan(a.data.pesan)}).catch(function(a){console.log(a)})},t.handleTerima=function(a){a.preventDefault();var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("id",t.state.dataPilih.id),e.append("opdTerima",t.state.dataPilih.opdTerima),e.append("opdTerimaKet",t.state.dataPilih.opdTerimaKet),console.log(t.state.dataPilih),B.a.post(R.apiRoot+"opd/set-usulan-terima",e).then(function(a){a.data.status&&(t.toggleTerima(),t.getData()),console.log(a),t.changePesan(a.data.pesan)}).catch(function(a){console.log(a)})},t.changePesan=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===a?t.setState({pesan:""}):t.setState({pesan:d.a.createElement(g.a,{color:e},a)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.handleNamaChange=function(a){var e=t.state.dataPilih;e.nama=a.target.value,t.setState({dataPilih:e})},t.handleAlasanChange=function(a){var e=t.state.dataPilih;e.alasan=a.target.value,t.setState({dataPilih:e})},t.handleLokasiChange=function(a){var e=t.state.dataPilih;e.lokasi=a.target.value,t.setState({dataPilih:e})},t.handleVolumeChange=function(a){var e=t.state.dataPilih;e.volume=a.target.value,t.setState({dataPilih:e})},t.handleKategoriChange=function(a){var e=t.state.dataPilih;e.kategori_id=a.target.value,t.setState({dataPilih:e})},t.handleSatuanChange=function(a){var e=t.state.dataPilih;e.satuan_id=a.target.value,t.setState({dataPilih:e})},t.handlePaguChange=function(a){var e=t.state.dataPilih;e.pagu=a.target.value,null==e.pagu&&(e.pagu=0),e.pagu=t.convertToRupiah(t.convertToAngka(e.pagu)),t.setState({dataPilih:e})},t.handleManfaatChange=function(a){var e=t.state.dataPilih;e.manfaat=a.target.value,t.setState({dataPilih:e})},t.handlePengusulChange=function(a){var e=t.state.dataPilih;e.pengusul=a.target.value,t.setState({dataPilih:e})},t.handleTerimaChange=function(a){var e=t.state.dataPilih;e.opdTerima=a.target.value,t.setState({dataPilih:e})},t.handleTerimaKetChange=function(a){var e=t.state.dataPilih;e.opdTerimaKet=a.target.value,t.setState({dataPilih:e})},t.handleFileChange=function(a){var e=t.state.dataPilih;e.file={foto:a.target.files[0]},t.setState({dataPilih:e})},t.handleSkorSubmit=function(a){a.preventDefault();var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("token",localStorage.getItem("codexv-token-kecamatan")),e.append("id",t.state.dataPilih.id),e.append("skor_keterdesakan",t.state.dataPilih.skor_keterdesakan),e.append("skor_pertumbuhan",t.state.dataPilih.skor_pertumbuhan),e.append("skor_potensi",t.state.dataPilih.skor_potensi),e.append("skor_kemiskinan",t.state.dataPilih.skor_kemiskinan),e.append("skor_manfaat",t.state.dataPilih.skor_manfaat),e.append("skor_partisipasi",t.state.dataPilih.skor_partisipasi),e.append("skor_pelaksanaan",t.state.dataPilih.skor_pelaksanaan),e.append("skor_dokumen",t.state.dataPilih.skor_dokumen),e.append("opd",t.state.dataPilih.opd_user_id),B.a.post(R.apiRoot+"kecamatan/create-skor",e).then(function(a){a.data.status&&(t.getData(),t.modalSkor()),t.changePesan(a.data.pesan),console.log(a.data)}).catch(function(a){console.log(a)})},t.handleSkorChange=function(a){var e=t.state.dataPilih,n=a.target.attributes.getNamedItem("data-skor").value;0===parseInt(n)?e.skor_keterdesakan=a.target.value:1===parseInt(n)?e.skor_pertumbuhan=a.target.value:2===parseInt(n)?e.skor_potensi=a.target.value:3===parseInt(n)?e.skor_kemiskinan=a.target.value:4===parseInt(n)?e.skor_manfaat=a.target.value:5===parseInt(n)?e.skor_partisipasi=a.target.value:6===parseInt(n)?e.skor_pelaksanaan=a.target.value:7===parseInt(n)&&(e.skor_dokumen=a.target.value),t.setState({dataPilih:e})},t.handleOpdChange=function(a){var e=t.state.dataPilih;e.opd_user_id=a.target.value,t.setState({dataPilih:e})},t.handleKelurahanChange=function(a){t.setState({kelurahan:a.target.value})},t.handleKecamatanChange=function(a){t.setState({kecamatan:a.target.value,kelurahan:"0-0-0"}),t.getKelurahan(a.target.value.split("-")[2])},t.handleJenisChange=function(a){t.setState({jenis:a.target.value})},t.handlePencarianChange=function(a){t.setState({pencarian:a.target.value})},t.handleUsulanChange=function(a){t.setState({berkasUsulan:a.target.files[0]})},t.handleBAChange=function(a){t.setState({berkasBA:a.target.files[0]})},t.handleBerkasSubmit=function(a){a.preventDefault();var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("token",localStorage.getItem("codexv-token-kecamatan")),e.append("ba",t.state.berkasBA),e.append("usulan",t.state.berkasUsulan),B.a.post(R.apiRoot+"kecamatan/upload-berkas",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status&&t.getData(),t.changePesan(a.data.pesan),console.log(a.data)}).catch(function(a){console.log(a)})},t.handleCariSubmit=function(a){a.preventDefault(),t.getData()},t.submitKirimBerkas=function(a){a.preventDefault();var e=R.apiRoot+"kecamatan/kirim-berkas",n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("token",localStorage.getItem("codexv-token-kecamatan")),B.a.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status&&t.getData(),t.changePesan(a.data.pesan),console.log(a.data)}).catch(function(a){console.log(a)})},t.handleSubmit=function(a){a.preventDefault();var e="";"Edit"===t.state.aksi?e=R.apiRoot+"kecamatan/update":"Tambah"===t.state.aksi&&(e=R.apiRoot+"kecamatan/create");var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("id",t.state.dataPilih.id),n.append("token",localStorage.getItem("codexv-token-kecamatan")),n.append("nama",t.state.dataPilih.nama),n.append("alasan",t.state.dataPilih.alasan),n.append("lokasi",t.state.dataPilih.lokasi),n.append("volume",t.state.dataPilih.volume),n.append("satuan",t.state.dataPilih.satuan_id),n.append("pagu",t.convertToAngka(t.state.dataPilih.pagu)),n.append("manfaat",t.state.dataPilih.manfaat),n.append("pengusul",t.state.dataPilih.pengusul),n.append("file",t.state.dataPilih.file.foto),n.append("kategori",t.state.dataPilih.kategori_id),B.a.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status&&(t.toggleClose(),t.getData()),t.changePesan(a.data.pesan),console.log(a.data)}).catch(function(a){console.log(a)})},t.componentWillMount=function(){t.getData(),t.getKiriman(),t.getSatuan(),t.getSkor()},t.setData=function(a){a.status&&t.setState({dataAll:a.data,jumlahPage:a.jumlahPage,jumlahAll:a.jumlahAll,dataKategori:a.kategori,dataKecamatan:a.dataKecamatan})},t.getData=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("token",localStorage.getItem("codexv-token-kecamatan")),e.append("search",t.state.pencarian),e.append("kelurahan",t.state.kelurahan),e.append("kecamatan",t.state.kecamatan),e.append("jenis",t.state.jenis),null==a&&(a=t.state.page),B.a.post(R.apiRoot+"opd/page-"+a,e).then(function(a){t.setData(a.data),console.log(a)}).catch(function(a){console.log(a)})},t.getKiriman=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("token",localStorage.getItem("codexv-token-kecamatan")),e.append("search",t.state.pencarian),B.a.post(R.apiRoot+"kecamatan/kiriman/page-"+a,e).then(function(a){a.data.status&&t.setState({dataKiriman:a.data.data,jumlahPageKiriman:a.data.jumlahPage,jumlahAllKiriman:a.data.jumlahAll})}).catch(function(a){console.log(a)})},t.getGrup=function(){var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),B.a.post(R.apiRoot+"kecamatan/createGrup",a).then(function(a){if(a.data.status){localStorage.setItem("codexv-token-kecamatan",a.data.token);var e=t.state.dataPilih;e.token=a.data.token,t.setState({dataPilih:e}),t.getData(),t.toggleTab(3,"2")}}).catch(function(a){console.log(a)})},t.getSatuan=function(){var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),B.a.post(R.apiRoot+"getData/satuan",a).then(function(a){a.data.status&&t.setState({dataSatuan:a.data.data})}).catch(function(a){console.log(a)})},t.getSkor=function(){var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),B.a.post(R.apiRoot+"getData/skor",a).then(function(a){a.data.status&&t.setState({dataSkor:a.data})}).catch(function(a){console.log(a)})},t.getKelurahan=function(a){var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("kecamatan",a),B.a.post(R.apiRoot+"getData/kelurahan",e).then(function(a){a.data.status&&t.setState({dataKelurahan:a.data.data})}).catch(function(a){console.log(a)})},t.changePage=function(a){t.setState({page:a}),t.getData(a)},t.pageNation=function(){var a=[];t.state.page>1?a.push(d.a.createElement(p.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},d.a.createElement(k.a,{previous:!0,tag:"button"},"Prev"))):a.push(d.a.createElement(p.a,{disabled:!0,key:0},d.a.createElement(k.a,{previous:!0,tag:"button"},"Prev")));for(var e=!1,n=!1,l=function(l){n=e,e=!1,l+2>=t.state.page&&l-2<=t.state.page&&(e=!0),1!==l&&l!==t.state.jumlahPage||(e=!0),e?l===t.state.page?a.push(d.a.createElement(p.a,{active:!0,key:l},d.a.createElement(k.a,{tag:"button"},l))):a.push(d.a.createElement(p.a,{key:l,onClick:function(){return t.changePage(l)}},d.a.createElement(k.a,{tag:"button"},l))):n!==e&&a.push(d.a.createElement(p.a,{key:l,disabled:!0},d.a.createElement(k.a,{tag:"button"},"...")))},i=1;i<=t.state.jumlahPage;i++)l(i);return t.state.page<t.state.jumlahPage?a.push(d.a.createElement(p.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},d.a.createElement(k.a,{next:!0,tag:"button"},"Next"))):a.push(d.a.createElement(p.a,{disabled:!0,key:t.state.jumlahPage+2},d.a.createElement(k.a,{next:!0,tag:"button"},"Next"))),d.a.createElement(v.a,null,a)},t.dataPilihAwal={token:"",id:0,nama:"",alasan:"",lokasi:"",volume:0,satuan_id:0,pagu:0,manfaat:"",pengusul:"",kategori_id:0,file:{foto:""},skor_keterdesakan:0,skor_pertumbuhan:0,skor_potensi:0,skor_kemiskinan:0,skor_manfaat:0,skor_partisipasi:0,skor_pelaksanaan:0,skor_dokumen:0,skor_total:0,opd:0,kelurahan:"",terima:0,terimaKet:"",opdTerima:0,opdTerimaKet:"",opd_user_id:0},t.state={dataAll:[],dataKiriman:[],dataSatuan:[],dataSkor:[],dataOpd:[],dataKategori:[],dataKecamatan:[],dataKelurahan:[],jumlahPage:1,jumlahAll:0,jumlahPageKiriman:1,jumlahAllKiriman:0,modal:!1,modalDelete:!1,modalTerima:!1,modalSkor:!1,dataPilih:t.dataPilihAwal,pencarian:"",page:1,aksi:"Tambah",fileForm:[],pesan:"",activeTab:new Array(4).fill("1"),berkasBA:"",berkasUsulan:"",kelurahan:"",kecamatan:"",jenis:""},t.toggleTab=t.toggleTab.bind(Object(r.a)(Object(r.a)(t))),t.toggleClose=t.toggleClose.bind(Object(r.a)(Object(r.a)(t))),t.toggle=t.toggle.bind(Object(r.a)(Object(r.a)(t))),t.toggleDelete=t.toggleDelete.bind(Object(r.a)(Object(r.a)(t))),t.toggleTerima=t.toggleTerima.bind(Object(r.a)(Object(r.a)(t))),t.modalSkor=t.modalSkor.bind(Object(r.a)(Object(r.a)(t))),t.changePesan=t.changePesan.bind(Object(r.a)(Object(r.a)(t))),t.setData=t.setData.bind(Object(r.a)(Object(r.a)(t))),t.getData=t.getData.bind(Object(r.a)(Object(r.a)(t))),t.getSatuan=t.getSatuan.bind(Object(r.a)(Object(r.a)(t))),t.getGrup=t.getGrup.bind(Object(r.a)(Object(r.a)(t))),t.handleDelete=t.handleDelete.bind(Object(r.a)(Object(r.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(r.a)(Object(r.a)(t))),t.handleNamaChange=t.handleNamaChange.bind(Object(r.a)(Object(r.a)(t))),t.handleAlasanChange=t.handleAlasanChange.bind(Object(r.a)(Object(r.a)(t))),t.handleLokasiChange=t.handleLokasiChange.bind(Object(r.a)(Object(r.a)(t))),t.handleVolumeChange=t.handleVolumeChange.bind(Object(r.a)(Object(r.a)(t))),t.handleSatuanChange=t.handleSatuanChange.bind(Object(r.a)(Object(r.a)(t))),t.handlePaguChange=t.handlePaguChange.bind(Object(r.a)(Object(r.a)(t))),t.handleManfaatChange=t.handleManfaatChange.bind(Object(r.a)(Object(r.a)(t))),t.handlePengusulChange=t.handlePengusulChange.bind(Object(r.a)(Object(r.a)(t))),t.handleFileChange=t.handleFileChange.bind(Object(r.a)(Object(r.a)(t))),t.handleKategoriChange=t.handleKategoriChange.bind(Object(r.a)(Object(r.a)(t))),t.handleTerimaChange=t.handleTerimaChange.bind(Object(r.a)(Object(r.a)(t))),t.handleTerimaKetChange=t.handleTerimaKetChange.bind(Object(r.a)(Object(r.a)(t))),t.handleSkorChange=t.handleSkorChange.bind(Object(r.a)(Object(r.a)(t))),t.handleOpdChange=t.handleOpdChange.bind(Object(r.a)(Object(r.a)(t))),t.handleKelurahanChange=t.handleKelurahanChange.bind(Object(r.a)(Object(r.a)(t))),t.handleBAChange=t.handleBAChange.bind(Object(r.a)(Object(r.a)(t))),t.handleUsulanChange=t.handleUsulanChange.bind(Object(r.a)(Object(r.a)(t))),t.handleBerkasSubmit=t.handleBerkasSubmit.bind(Object(r.a)(Object(r.a)(t))),t.submitKirimBerkas=t.submitKirimBerkas.bind(Object(r.a)(Object(r.a)(t))),t}return Object(o.a)(e,a),Object(l.a)(e,[{key:"mulaiUsulanBaru",value:function(){var a=this;return d.a.createElement("div",null,d.a.createElement(b.a,{responsive:!0,striped:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Id"),d.a.createElement("th",null,"Tahun"),d.a.createElement("th",null,"Asal Pembuatan"),d.a.createElement("th",null,"Posisi"),d.a.createElement("th",null,"Aksi"))),d.a.createElement("tbody",null,this.state.dataKiriman.map(function(e,t){return e?d.a.createElement("tr",{key:t},d.a.createElement("td",null,e.id),d.a.createElement("td",null,e.tahun),d.a.createElement("td",null,a.getAsal(e,!0)),d.a.createElement("td",null),d.a.createElement("td",null,d.a.createElement(m.a,{method:"post",action:R.apiRoot+"data/export/kecamatan",target:"_blank"},d.a.createElement(u.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),d.a.createElement(u.a,{type:"hidden",name:"id",value:e.id}),d.a.createElement(u.a,{type:"hidden",name:"tahun",value:e.tahun}),d.a.createElement(u.a,{type:"hidden",name:"jenis",value:"kecamatan"}),d.a.createElement(h.a,{color:"secondary"},"Export")))):null}))),this.pageNation())}},{key:"downloadUsulan",value:function(){return d.a.createElement(m.a,{method:"post",action:R.apiRoot+"opd/get-pdf/usulan-opd",target:"_blank"},d.a.createElement(u.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),d.a.createElement(u.a,{type:"hidden",name:"jenis",value:"usulan"}),d.a.createElement(h.a,{color:"secondary"},"Download Usulan"))}},{key:"getAsal",value:function(a){var e="";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e=0===parseInt(a.asal)?"Kecamatan "+a.Nm_Kec:"Kelurahan "+a.Nm_Kel:1===parseInt(a.asal)?e="Kelurahan "+a.Nm_Kel:2===parseInt(a.asal)&&(e="Kecamatan "+a.Nm_Kec),d.a.createElement("p",null,e)}},{key:"inputUsulan",value:function(){var a,e=this,t=[];t.push(d.a.createElement("option",{key:0,value:""},"-= Pilh Kecamatan =-"));for(var n=0;n<this.state.dataKecamatan.length;n++)a=this.state.dataKecamatan[n].Kd_Prov+"-"+this.state.dataKecamatan[n].Kd_Kab+"-"+this.state.dataKecamatan[n].Kd_Kec,t.push(d.a.createElement("option",{key:n+1,value:a},this.state.dataKecamatan[n].Nm_Kec));var l=[];l.push(d.a.createElement("option",{key:0,value:""},"-= Pilh Kelurahan =-"));for(var i=0;i<this.state.dataKelurahan.length;i++)a=this.state.dataKelurahan[i].Kd_Prov+"-"+this.state.dataKelurahan[i].Kd_Kab+"-"+this.state.dataKelurahan[i].Kd_Kec+"-"+this.state.dataKelurahan[i].Kd_Kel+"-"+this.state.dataKelurahan[i].Kd_Urut,l.push(d.a.createElement("option",{key:i+1,value:a},this.state.dataKelurahan[i].Nm_Kel));return d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(E.a,null,d.a.createElement(f.a,{xs:"128",md:"10"},d.a.createElement(m.a,{method:"post",onSubmit:this.handleCariSubmit,className:"form-horizontal"},d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{xs:"9",md:"5"},d.a.createElement(u.a,{type:"text",onChange:this.handlePencarianChange,id:"text-input-pencarian",name:"pencarian",placeholder:"Pencarian Nama Usulan"})),d.a.createElement(f.a,{xs:"3",md:"2"},d.a.createElement(h.a,{color:"primary"},"Cari")),d.a.createElement(f.a,{xs:"9",md:"5"})),d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{xs:"9",md:"5"},d.a.createElement(u.a,{type:"select",name:"set-jenis",value:this.state.jenis,onChange:this.handleJenisChange},d.a.createElement("option",{key:0,value:""},"-= Pilih Jenis =-"),d.a.createElement("option",{key:1,value:1},"Musrenbang"),d.a.createElement("option",{key:2,value:3},"Pokir")))),d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{xs:"9",md:"5"},d.a.createElement(u.a,{type:"select",name:"set-kecamatan",value:this.state.kecamatan,onChange:this.handleKecamatanChange},t)),d.a.createElement(f.a,{xs:"9",md:"5"},d.a.createElement(u.a,{type:"select",name:"set-kecamatan",value:this.state.kelurahan,onChange:this.handleKelurahanChange},l))),d.a.createElement(P.a,{row:!0})))),d.a.createElement(b.a,{responsive:!0,striped:!0,hover:!0},d.a.createElement("thead",{style:{backgroundColor:"#20B2AA",color:"#FFFFFF",textAlign:"center"}},d.a.createElement("tr",null,d.a.createElement("th",null,"No"),d.a.createElement("th",null,"Asal Usulan"),d.a.createElement("th",null,"Nama Usulan"),d.a.createElement("th",null,"Alasan Usulan"),d.a.createElement("th",null,"Lokasi Detail"),d.a.createElement("th",null,"Volume Usulan"),d.a.createElement("th",null,"Satuan Usulan"),d.a.createElement("th",null,"Pagu Anggaran (Rp)"),d.a.createElement("th",null,"Penerima Manfaat"),d.a.createElement("th",null,"Nama Pengusul"),d.a.createElement("th",null,"File"),d.a.createElement("th",null,"Terima"),d.a.createElement("th",null,"Aksi"))),d.a.createElement("tbody",null,this.state.dataAll.map(function(a,t){var n="Belum terverifikasi";1==a.opdTerima?n=d.a.createElement("span",{style:{color:"green"}},"Diterima"):2==a.opdTerima&&(n=d.a.createElement("span",{style:{color:"red"}},"Ditolak"));var l=d.a.createElement("div",null,d.a.createElement(h.a,{color:"warning",onClick:function(){e.toggleTerima(a)}},"Verifikasi"),d.a.createElement("div",null,d.a.createElement("strong",null,"Status : ")),d.a.createElement("span",null,n),d.a.createElement("div",null,d.a.createElement("strong",null,"Alasan : ")),d.a.createElement("span",null,a.opdTerimaKet)),i=d.a.createElement("div",null,d.a.createElement(h.a,{color:"info",onClick:function(){e.setState({aksi:"Edit"}),e.toggle(a)},className:"mr-1"},"Edit"),"|",d.a.createElement(h.a,{color:"danger",onClick:function(){return e.toggleDelete(a)},className:"mr-1"},"Delete"));return 4!=a.asal&&(i=""),a?d.a.createElement("tr",{key:t},d.a.createElement("td",null,20*(e.state.page-1)+1+t),d.a.createElement("td",null,e.getAsal(a)),d.a.createElement("td",null,a.nama),d.a.createElement("td",null,a.alasan),d.a.createElement("td",null,a.lokasi),d.a.createElement("td",{style:{textAlign:"right"}},a.volume),d.a.createElement("td",null,a.nama_satuan),d.a.createElement("td",{style:{textAlign:"right"}},e.convertToRupiah(a.pagu)),d.a.createElement("td",null,a.manfaat),d.a.createElement("td",null,a.pengusul),d.a.createElement("td",null,e.downloadGambar(a),e.downloadFileBA(a),e.downloadFileUsulan(a)),d.a.createElement("td",null,l),d.a.createElement("td",null,i)):null}))),this.pageNation())}},{key:"convertToRupiah",value:function(a){null==a&&(a=0);for(var e="",t=a.toString().split("").reverse().join(""),n=0;n<t.length;n++)n%3==0&&(e+=t.substr(n,3)+".");return e.split("",e.length-1).reverse().join("")}},{key:"convertToAngka",value:function(a){return null==a||0==a?0:parseInt(a.replace(/,.*|[^0-9]/g,""),10)}},{key:"uploadBerkas",value:function(){return d.a.createElement(m.a,{method:"post",onSubmit:this.handleBerkasSubmit,id:"form-upload-berkas"},d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{md:"2"},d.a.createElement(S.a,{htmlFor:"file-multiple-input"},"Upload Berita Acara dan Absen")),d.a.createElement(f.a,{xs:"12",md:"10"},d.a.createElement(u.a,{type:"file",id:"berita",onChange:this.handleBAChange}))),d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{md:"2"},d.a.createElement(S.a,{htmlFor:"file-multiple-input"},"Upload Lampiran Usulan")),d.a.createElement(f.a,{xs:"12",md:"10"},d.a.createElement(u.a,{type:"file",id:"usulan",onChange:this.handleUsulanChange}))),d.a.createElement(h.a,{color:"primary",type:"submit",form:"form-upload-berkas",value:"Submit"},"Upload Berkas"))}},{key:"kirimUsulan",value:function(){return d.a.createElement(m.a,{method:"post",onSubmit:this.submitKirimBerkas,id:"form-kirim-berkas"},d.a.createElement(h.a,{color:"secondary"},"Final"))}},{key:"toggleTab",value:function(a,e){1==e?this.getData():4==e&&this.getKiriman();var t=this.state.activeTab.slice();t[a]=e,this.setState({activeTab:t})}},{key:"tabPane",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(C.a,{tabId:"1"},this.inputUsulan()),d.a.createElement(C.a,{tabId:"2"},this.downloadUsulan()),d.a.createElement(C.a,{tabId:"3"},this.kirimUsulan()),d.a.createElement(C.a,{tabId:"4"},this.mulaiUsulanBaru()),d.a.createElement(C.a,{tabId:"5"},this.uploadBerkas()),d.a.createElement(C.a,{tabId:"6"}))}},{key:"toggleClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modal:!1})}},{key:"toggle",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length?this.setState({modal:!0,dataPilih:this.dataPilihAwal}):this.setState({modal:!0,dataPilih:a})}},{key:"toggleTerima",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalTerima:!this.state.modalTerima,dataPilih:a})}},{key:"toggleDelete",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalDelete:!this.state.modalDelete,dataPilih:a})}},{key:"modalSkor",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length?this.setState({modalSkor:!this.state.modalSkor,dataPilih:this.dataPilihAwal}):this.setState({modalSkor:!this.state.modalSkor,dataPilih:a})}},{key:"pilihSkor",value:function(){var a,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=[],l=this.state.dataSkor;if(0===parseInt(t)?e="skor_keterdesakan":1===parseInt(t)?e="skor_pertumbuhan":2===parseInt(t)?e="skor_potensi":3===parseInt(t)?e="skor_kemiskinan":4===parseInt(t)?e="skor_manfaat":5===parseInt(t)?e="skor_partisipasi":6===parseInt(t)?e="skor_pelaksanaan":7===parseInt(t)&&(e="skor_dokumen"),0!==l.length){a=l.data[t].isi,n.push(d.a.createElement("option",{key:0,value:""},"-= Pilh Skor =-"));for(var i=0;i<a.length;i++)n.push(d.a.createElement("option",{key:i+1,value:a[i].Kd_Bobot},a[i].Range));return d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{md:"5"},d.a.createElement(S.a,{htmlFor:"selectLg"},"SKOR ",l.data[t].Kriteria)),d.a.createElement(f.a,{xs:"12",md:"7",size:"lg"},d.a.createElement(u.a,{type:"select",name:"satuan",bsSize:"lg","data-skor":t,value:this.state.dataPilih[e],onChange:this.handleSkorChange},n)))}}},{key:"render",value:function(){var a=this;return d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(E.a,null,d.a.createElement(f.a,{xs:"12",lg:"12"},d.a.createElement(j.a,null,d.a.createElement(K.a,null,d.a.createElement("i",{className:"fa fa-align-justify"})," Usulan Untuk ",localStorage.getItem("codexv-nama")),d.a.createElement(y.a,null,this.state.pesan,d.a.createElement(_.a,{isOpen:this.state.modalTerima,toggle:this.modalTerima,className:this.props.className},d.a.createElement(O.a,{toggle:this.modalTerima},"Penerimaan Usulan"),d.a.createElement(m.a,{method:"post",onSubmit:this.handleTerima,className:"form-horizontal",id:"form-terima"},d.a.createElement(T.a,null,d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{md:"3"},d.a.createElement(S.a,{htmlFor:"selectLg"},"Terima/Tolak *")),d.a.createElement(f.a,{xs:"12",md:"9",size:"lg"},d.a.createElement(u.a,{type:"select",value:this.state.dataPilih.opdTerima,bsSize:"lg",onChange:this.handleTerimaChange,required:!0,autoFocus:!0},d.a.createElement("option",{key:0,value:""},"-= Pilih Keterangan =-"),d.a.createElement("option",{key:1,value:"1"},"Terima"),d.a.createElement("option",{key:2,value:"2"},"Tolak")))),d.a.createElement(P.a,{row:!0},d.a.createElement(f.a,{md:"3"},d.a.createElement(S.a,{htmlFor:"text-input"},"Alasan *")),d.a.createElement(f.a,{xs:"12",md:"9"},d.a.createElement(u.a,{type:"textarea",placeholder:"",onChange:this.handleTerimaKetChange,value:this.state.dataPilih.opdTerimaKet,required:!0,autoFocus:!0}),d.a.createElement(D.a,{color:"muted"},"Alasan")))),d.a.createElement(I.a,null,d.a.createElement(h.a,{color:"primary",type:"submit",form:"form-terima",value:"Submit"},"Simpan"),d.a.createElement(h.a,{color:"secondary",onClick:this.toggleTerima},"Batal")))),d.a.createElement(_.a,{isOpen:this.state.modalDelete,toggle:this.toggleDelete,className:this.props.className},d.a.createElement(O.a,{toggle:this.toggleDelete},"Hapus Data"),d.a.createElement(T.a,null,"Apakah Anda Yakin Menghapus Data ",this.state.dataPilih.nama,"?"),d.a.createElement(I.a,null,d.a.createElement(h.a,{color:"danger",onClick:this.handleDelete},"Ya")," ",d.a.createElement(h.a,{color:"secondary",onClick:this.toggleDelete},"Batal"))),d.a.createElement(f.a,{xs:"12",md:"12",className:"mb-12"},d.a.createElement(x.a,{tabs:!0},d.a.createElement(A.a,null,d.a.createElement(w.a,{active:"1"===this.state.activeTab[3],onClick:function(){a.toggleTab(3,"1")}},d.a.createElement("i",{className:"cui-layers icons font-2xl "}),d.a.createElement("span",{className:"1"===this.state.activeTab[3]?"":"d-none"}," Membuat Usulan Baru"),"\xa0",d.a.createElement(N.a,{pill:!0,color:"danger"},this.state.jumlahAll))),d.a.createElement(A.a,null,d.a.createElement(w.a,{active:"2"===this.state.activeTab[3],onClick:function(){a.toggleTab(3,"2")}},d.a.createElement("i",{className:"cui-cloud-download icons font-2xl"}),d.a.createElement("span",{className:"2"===this.state.activeTab[3]?"":"d-none"}," Download Berita Acara"))),d.a.createElement(A.a,null,d.a.createElement(w.a,{active:"3"===this.state.activeTab[3],onClick:function(){a.toggleTab(3,"3")}},d.a.createElement("i",{className:"fa fa-send icons font-2xl"}),d.a.createElement("span",{className:"3"===this.state.activeTab[3]?"":"d-none"}," Masukkan Usulan"))),d.a.createElement(A.a,null,d.a.createElement(w.a,{active:"4"===this.state.activeTab[3],onClick:function(){a.toggleTab(3,"4")}},d.a.createElement("i",{className:"cui-laptop icons font-2xl"}),d.a.createElement("span",{className:"4"===this.state.activeTab[3]?"":"d-none"}," Download Lampiran Usulan")))),d.a.createElement(F.a,{activeTab:this.state.activeTab[3]},this.tabPane())))))))}}]),e}(c.Component);e.default=M}}]);
//# sourceMappingURL=17.fdd28c1c.chunk.js.map